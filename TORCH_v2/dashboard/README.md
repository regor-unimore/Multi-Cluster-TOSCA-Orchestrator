# TORCH_v2 Dashboard

This folder contains the codebase of the Dashboard of the [TORCH project](https://github.com/unict-cclab/TORCH/tree/master) with minor changes here and there. 

## TORCH_v2 Dashboard Folder Structure

The folder is structured as follows:<br/>
<pre>
-> Dashboard/                           #codebase for the TORCH_v2 Dashboard component  
-> Dockerfile                           #dockerfile to locally build a docker image of TORCH_v2 dashboard from the source code  
-> dashboard-entrypoint.sh              #entrypoint for the docker image  
-> docker-compose-torch-dashboard.yaml  #docker compose file to deploy the docker image  
</pre>

### Dashboard Code Base Structure

The Dashboard Code Base folder follows the standard structure of a PHP Lavarel project. In particular, we have:<br/>
<pre>
-> app/               #contains the core code of the Dashboard  
-> bootstrap/         #contains the file that bootstrap Lavarel, no need to modify it  
-> config/            #contains all of the Dashboard's configuration files  
-> database/          #contains database migrations, model factories and seeds (and this directory hold the SQLite database if its used)  
-> public/            #contains the index.php (the entrypoint for all requests entering the Dashboard) and the assets (images, Javascript files, CSS ...)  
-> resources/         #contains the views of the Dashboard + uncompiled assets  
-> routes/            #contains all the route definition for the Dashboard  
|---> web.php         #statefull routes with session state  
|---> api.php         #RESTful API routes  
|---> console.php     #console command routes  
|---> channels.php    #event broadcasting routes  
-> storage/           #contains logs, template, file based on sessions, caches and other files generated by Lavarel or user-generated files  
-> tests/             #contains automated tests  
-> .editorconfig      #file used to keep consistency in the coding environment when working with multiple team  (can be ignored)  
-> .env               #defines environment variables used by Lavarel and by the Dashboard  
-> .styleci.yml       #(???)
-> artisan            #  
-> composer.json      #Specify which packages should be installed
-> composer.lock      #Composer file updated and handled by Composer to reflect which version of the required packages are installed (ignore it)  
-> package-lock.json  #nodejs npm file updated and handled by npm (ignore it)  
-> phpunit.xml        #  
-> server.php         #PHP internal web server, currently used but should be substituted when we move from development to production
-> webpack.mix.js     #  
-> yarn.lock          #
</pre>

### Dashboard/App Project Structure

<pre>
-> Console          #contains all the custom artisan commands for the Dashboard   
-> Exceptions       #contains all the exception handlers of the Dashboard
-> Http             #contains most of the application logic (Controller, Middleware and Form Request)
-> Providers        #contains the service Providers used for the Dashboard
-> template.php     #Eloquent model for the Template resource
-> user.php         #Eloquent model for the User resource
</pre>

<ins>Note about terminology:</ins> 
- **Providers** : are configured in the Lavarel config/app.php file and contained in the project folder app/Providers. They are in charge of bootstrapping Lavarel Core software and the Dashboard by registering "things" (like listeners, routes, middleware, bindings for the dependency injection, ...)  
- **Controllers** : are class implementing the application logic used to reply to incoming requests  
- **Middlewares** : provide a  mechanism for inspecting and filtering HTTP requests entering the application. (E.g.; a logging middleware could log all incoming http request before allowing the request to reach the Controller.)  

### Dashboard/Public Project Structure
<pre>
-> css
-> fonts/...
-> img
-> js                    # Vue.js frontend
-> json4tosca-parser     # Python component implementing the Extended Tosca Parser used by Torch_v2
-> .htaccess
-> favicon.ico
-> index.php
-> mix-manifest.json
-> robots.txt
</pre>